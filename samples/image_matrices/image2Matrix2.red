Red [	Title:   "Matrix tests "	Author:  "Francois Jouen"	File: 	 %Image2Matrix.red	Needs:	 'View]#include %../../libs/redcv.red ; for redCV functionsisize: 512x512bitSize: 32img1: rcvCreateImage isizeimg2: rcvCreateImage isizeloadImage: does [	canvas1/image/rgb: black	canvas2/image/rgb: black	tmp: request-file	if not none? tmp [		img1: rcvLoadImage tmp		img2: rcvCreateImage img1/size		canvas1/image: img1		convert	]]convert: does [	mat:  rcvCreateMat 'integer! bitSize img1/size	f/text: form bitSize append f/text "-bit"	rcvImage2Mat img1 mat 		; Converts image to 1 Channel matrix [0..255] 	rcvMat2Image mat img2 		; Converts matrix to red image	canvas2/image: img2			; Shows converted image]; ***************** Test Program ****************************view win: layout [		title "Matrix to Image"		button "Load" [loadImage]		text "Matrix Bit Size" 		r1: radio "8-bit"  [bitSize:  8  convert]		r2: radio "16-bit" [bitSize: 16  convert]		r3: radio "32-bit" [bitSize: 32  convert]		f: field 60 		button 60 "Quit" [	rcvReleaseImage img1 							rcvReleaseImage img2							rcvReleaseMat mat							Quit]		return		text "Source" pad 430x0 		text "Matrix to Image"		return		canvas1: base isize img1		canvas2: base isize img2		do [r3/data: true]]